{% load static %}
{% include 'shared/_hp.html' %}
<link rel="stylesheet" href="{% static 'salon/css/style.css' %}">

    <div class="grid-container">
      <p class="start-area"><a href="{% url 'salon:start' %}">작품 생성하러 가기</a></p>
    </div>
      
    <main class="grid-item main">
      {% for keyword in keywords %}
      <p class="keyword-area">{{ keyword }}</p>
      <div class="items">
        {% for img, mus in arts %}
        {% if img.kind == 1 %}
        <div class="btn-open-popup item item{{forloop.counter}}">
          <img class="sample-img" src="{{img.thumbnail}}" alt="thumbnail">
          <img class="test ori-img" src="{{img.filename}}" alt="filename" style="width: 500px; display: none;">
          <p class="test input-text" style="display: none;">{{img.input_text}}</p>
          <p class="test img-user" style="display: none;">created by... <a href="{% url 'mypage:mypage' img.user %}" style="display: inline;">@{{img.user}}</a></p>
        </div>
        {% endif %}
        {% endfor %}
      </div>
      <div class="items">
        <audio id="myAudio" controls style="display: none">
          <source src="/media/sample.mp3" type="audio.mpeg">
        </audio>
        <div class="item item-music" onclick="music_button('/media/sample.mp3'); togglePlay();">Click to Listen!<br><strong>Music1</strong></div>
        <div class="item item-music" onclick="music_button('/media/sample2.mp3'); togglePlay();">Click to Listen!<br><strong>Music2</strong></div>
        <div class="item item-music" onclick="music_button('/media/sample3.mp3'); togglePlay();">Click to Listen!<br><strong>Music3</strong></div>
      </div>
      <hr>
      {% endfor %}
    </main> 
    <div class="modal">
      <div class="modal-body fade">
        <div class="modal-close">
          <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="black"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </div>
        <div class="modal-items">
          <div class="modal-img"></div>
          <div class="modal-text"></div>
        </div>
      </div>
    </div>
  
  <script src="{% static 'salon/js/modal.js' %}"></script>
  <script src="{% static 'salon/js/scroll.js' %}"></script>
  <script src="{% static 'salon/js/index.js' %}"></script>
  <script>
    var myAudio = document.getElementById("myAudio");
    var isPlaying = false;

    function togglePlay() {
      isPlaying ? myAudio.pause() : myAudio.play();
    };

    myAudio.onplaying = function() {
      isPlaying = true;
    };
    myAudio.onpause = function() {
      isPlaying = false;
    };
  
  </script>
